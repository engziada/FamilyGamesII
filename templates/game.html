{% extends "base.html" %}

{% block content %}
<div class="game-container">
    <!-- Hidden inputs for game data -->
    <input type="hidden" id="game-id" value="{{ game_id }}">
    <input type="hidden" id="player-name" value="{{ player_name }}">
    <input type="hidden" id="is-host" value="{{ 'true' if is_host else 'false' }}">
    <input type="hidden" id="player-type" value="{{ player_type }}">
    <input type="hidden" id="player-score" value="{{ player_score }}">
    <input type="hidden" id="initial-players" value="{{ players|tojson|safe }}">

    <div class="game-title">بدون كلام</div>
    <div class="game-layout">
        <!-- Left Section -->
        <div class="game-main">
            <!-- Timer Section -->
            <div class="countdown-section">
                <div id="timer" class="timer">02:00</div>
            </div>

            <!-- Player Turn Section -->
            <div class="player-turn-section">
                <div class="section-content">
                    <div id="current-player">اللي عليه الدور</div>
                </div>
            </div>

            <!-- Game Display Section -->
            <div class="game-display-section">
                <div class="section-content">
                    <div id="item-display" class="item-display">Movie/Series/Play Name</div>
                </div>
                {% if player_type == 'guest' %}
                <button id="guessButton" class="btn btn-secondary">أنا اللي عرفتها</button>
                {% endif %}
            </div>

            <!-- Control Buttons -->
            <div class="control-buttons">
                <button class="btn btn-secondary" id="leaveButton">أنا منسحب</button>
                {% if player_type == 'host' %}
                <button id="nextRoundButton" class="btn btn-primary">الدور اللي بعده</button>
                <button id="endGameButton" class="btn btn-secondary">إقفل الأوضة</button>
                {% endif %}
            </div>
        </div>

        <!-- Right Section - Players List and Scores -->
        <div class="players-section">
            <div class="section-title">النتيجة</div>
            <div class="players-grid">
                <div class="players-names">
                    <div class="grid-header">اللاعيبة</div>
                    <div id="players-list"></div>
                </div>
                <div class="players-scores">
                    <div class="grid-header">النتيجة</div>
                    <div id="scores"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Status Bar -->
    <div class="game-status-bar">
        <div id="game-status" class="status-message">حالة اللعبة</div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/charades.js') }}"></script>
{% endblock %}